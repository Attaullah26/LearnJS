<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice 09</title>
    <style>
        body {
            background-color: #313131;
            color: white;
        }

        h1 {
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Practice Set 09</h1>
    </div>

    <script>

        // Question.No.01


        // const loadScript = (src)=>{
        //     return new Promise((resolve, reject)=>{
        //         let script = document.createElement('script')
        //         script.src = src 
        //         document.body.appendChild(script)
        //         script.onload = ()=>{
        //             resolve('Success')
        //         }
        //         script.onerror =()=>{
        //             reject('Error occured.')
        //         }
        //     })
        // }

        // let result = loadScript('https://cdddn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js')
        // result.then((success)=>{
        //     console.log('Script loade successfully.');
        // }).catch((error)=>{
        //     console.log(error);
        // })





        // Question.No.02
        // ______________ With async await _____________________
        // const loadScript = async (src) => {
        //     return new Promise((resolve, reject) => {
        //         let script = document.createElement('script')
        //         script.src = src
        //         document.body.appendChild(script)
        //         script.onload = () => {
        //             resolve('Success at')
        //         }
        //         script.onerror = () => {
        //             reject('Error occured at')
        //         }
        //     })
        // }

        // let resultFunction = async () => {
        //     console.log(new Date().getMilliseconds());
        //     let result = await loadScript('https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js')
        //     console.log(result);
        //     console.log(new Date().getMilliseconds());

        // }
        // resultFunction()



        // Question.No.02

        // let second = () => {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(() => {
        //             reject(new Error('Hey this is not good.'))
        //         }, 3000);
        //     })
        // }

        // const secResult = async () => {
        //     try {
        //         let a = await second()
        //         console.log(a);
        //     } catch (error) {
        //         console.log('This error has been handled');
        //     }
        // }
        // secResult()






        // Question.No.02

        let one = async ()=>{
            return new Promise((resolve, reject)=>{
                setTimeout(() => {
                        resolve('value 1')
                }, 2000);
            })
        }

        let two = async ()=>{
            return new Promise((resolve, reject)=>{
                setTimeout(() => {
                        resolve('value 2')
                }, 1000);
            })
        }

        let three = async ()=>{
            return new Promise((resolve, reject)=>{
                setTimeout(() => {
                        resolve('value 3')
                }, 3000);
            })
        }


        const total = async ()=>{
            
            console.time('running')
            // let a = await one()
            // let b = await two()
            // let c = await three()

            let a =  one()
            let b =  two()
            let c =  three()

            let result123 = await Promise.all([a,b,c])
            console.log(result123);
            // console.log(a, b, c);
            console.timeEnd('running')
        }
        total()


    </script>
</body>

</html>