<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Callbacks</title>
    <style>
        body {
            background-color: #313131;
            color: white;
        }

        h1 {
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Callbacks in Javascript</h1>
    </div>

    <script>
        // let callback = (src, cb)=> {
        //     setTimeout(() => {
        //         let script = document.createElement('script')
        //         script.src = src
        //         script.onload = ()=>{
        //             console.log('Your script has been loaded.' + src);
        //             cb(null, src)
        //         }
        //         document.body.appendChild(script)
        //         script.onerror = ()=>{
        //             console.log('Error occured with : ' + src);
        //             cb(new Error())
        //         }

        //     }, 1000);
        // }

        // let hello = (error, src)=> {
        //     if(error){
        //         console.log(error);
        //         return
        //     }
        //     alert('Hello welcome to site' + src)
        // }
        // callback('https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js', hello)



        // Callbacks

        // 01- Load script ________________________________________
        // let loadScript = (src, callback)=> {
        //     let script = document.createElement('script')
        //     script.src = src
        //     document.body.appendChild(script)
        // }

        // loadScript('https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js')




        // 02- Informs when load script _______________________________
    //     let loadScript = (src, callback)=> {
    //         let script = document.createElement('script')
    //         script.src = src
    //         document.body.appendChild(script)
    //         script.onload = ()=> {
    //             console.log('Script loaded : ', src);
    //         }
    //     }

    //     loadScript('https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js')



       // 02- Informs through custom function when load script _______________________________
    //    let loadScript = (src, callback)=> {
    //         let script = document.createElement('script')
    //         script.src = src
    //         document.body.appendChild(script)
    //         script.onload = ()=> {
    //             // console.log('Script loaded : ', src);
    //             callback(src)
    //         }
    //     }
        
    //     let callback = (src)=> {
    //         console.log('Script loaded by custom callback function: '+ src);
    //     }
    //     loadScript('https://cdn.jjjsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js', callback)


       // 02- Error handling in the callback function  _______________________________
       let loadScript = (src, callback)=> {
            let script = document.createElement('script')
            script.src = src
            document.body.appendChild(script)
            script.onload = ()=> {
                // console.log('Script loaded : ', src);
                callback(null , src)
            }
            script.onerror =()=>{
                console.log('Erro while loading script: ' + src);
                callback(new Error('Error occured at src :' + src))
            }
        }
        
        let callback = (error,src)=> {
            if(error){
                console.log('Some error at ' + src);
                return
            }
            console.log('Script loaded by custom callback function: '+ src);
        }
        loadScript('https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js', callback)
    // </script>
</body>

</html>